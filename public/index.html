<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta Tags -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpectraFlux</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,600&display=swap" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- SpectraFlux CSS (your style.css) -->
  <link rel="stylesheet" href="/style/style.css" />

  <!-- Meta tags for SEO etc. -->
  <meta name="description" content="SpectraFlux is a fast and free web proxy designed to bypass censorship and access restricted content securely. No sign-up needed. Just search and go!" />
  <meta name="keywords" content="SpectraFlux, web proxy, free proxy, unblock websites, online proxy, secure browsing, bypass censorship, anonymous browsing, school proxy, fast proxy" />
  <meta name="author" content="SpectraFlux Team" />
  <meta property="og:title" content="SpectraFlux – Free Web Proxy" />
  <meta property="og:description" content="Bypass censorship and browse freely with SpectraFlux. Fast, simple, and secure proxy access — no account required." />
  <meta property="og:image" content="/images/logo.png" />
  <meta property="og:url" content="https://spectraflux.site" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="spectraflux_logo.png" />

  <!-- Adsense Scripts -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7261666826198019"
     crossorigin="anonymous"></script>
  <script async src="https://fundingchoicesmessages.google.com/i/pub-7261666826198019?ers=1"></script>
  <script>
    (function() {
      function signalGooglefcPresent() {
        if (!window.frames['googlefcPresent']) {
          if (document.body) {
            const iframe = document.createElement('iframe');
            iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;';
            iframe.style.display = 'none';
            iframe.name = 'googlefcPresent';
            document.body.appendChild(iframe);
          } else {
            setTimeout(signalGooglefcPresent, 0);
          }
        }
      }
      signalGooglefcPresent();
    })();
  </script>
  
  <!-- Original script.js -->
  <script src="script.js"></script>
</head>
<body>
  <!-- 1) Dot-Wave Background -->
  <div id="background-animation">
    <canvas id="dotWaveCanvas"></canvas>
  </div>

  <!-- 2) Vertical Ads -->
  <div class="vertical-ad-left">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7261666826198019"
         crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-7261666826198019"
         data-ad-slot="3340466868"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>
  <div class="vertical-ad-right">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7261666826198019"
         crossorigin="anonymous"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-7261666826198019"
         data-ad-slot="9869048904"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- 3) Main Content (wrapped in .content-wrapper) -->
  <div class="content-wrapper">
    <!-- Header (centered) -->
    <header class="header text-center mb-4">
      <img class="logo" src="spectraflux_logo.png" alt="Logo" style="width:165px; height:auto; margin-bottom:10px;" />
      <h1 class="title" style="font-size:2rem;">SpectraFlux</h1>
    </header>

    <div class="container mb-5">
      <p class="mb-3 font-weight-bold">
        Make sure that YOU DO NOT share the proxified links. Your sessions save all of your logins, so those who have your links can access your logged in sites!
      </p>
      <p class="mb-3 font-weight-bold text-danger" id="error-text" style="display: none">
        Error: some text
      </p>

      <!-- Password input (hidden by default) -->
      <div class="input-group mb-2" id="password-wrapper" style="display: none">
        <div class="input-group-prepend">
          <span class="input-group-text">Enter password</span>
        </div>
        <input type="password" class="form-control" id="session-password" placeholder="Password is given by host of this site.">
      </div>

      <!-- Enter URL & GO -->
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text">Enter URL</span>
        </div>
        <input type="text" class="form-control" id="session-url" placeholder="https://www.google.com/">
        <div class="input-group-append">
          <button class="btn btn-success" id="session-go">Go!</button>
        </div>
      </div>

      <!-- Session ID -->
      <div class="input-group mb-4">
        <div class="input-group-prepend">
          <span class="input-group-text">Session ID</span>
        </div>
        <input readonly type="text" class="form-control disable-text" id="session-id"
               placeholder="click on 'Create new session ID' or 'Fill in existing session ID' from below">
        <div class="input-group-append">
          <button class="btn btn-secondary" id="session-create-btn" type="button">Create new session ID</button>
        </div>
      </div>

      <!-- Advanced Options -->
      <button class="btn btn-outline-secondary" id="session-advanced-toggle">Show advanced options</button>
      <div class="mt-2 mb-4" id="session-advanced-container" style="display: none">
        <div class="form-check mb-1">
          <input class="form-check-input" type="checkbox" value="" id="session-shuffling" checked>
          <label class="form-check-label" for="session-shuffling">Enable URL Shuffling</label>
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">HTTP Proxy</span>
          </div>
          <input type="text" class="form-control" id="session-httpproxy"
                 placeholder="http://username:password@proxyipaddress:proxyport">
        </div>
      </div>

      <!-- New "View Sessions" Button -->
      <button class="btn btn-outline-primary" id="view-sessions-btn">View Sessions</button>
      <!-- New "About" Button -->
      <button class="btn btn-outline-secondary" id="about-btn" onclick="window.location.href='about.html'">About</button>
      
      <!-- Agreement Note -->
      <p class="agreement-text mt-3">
        By using SpectraFlux, you agree to our 
        <a href="/pages/privacy_policy.txt" target="_blank">Privacy Policy</a> and 
        <a href="/pages/terms_of_service.txt" target="_blank">TOS</a>!
      </p>
      <!-- Warning Note -->
      <p class="warning-text">
        Warning: SpectraFlux is provided as-is. We are not responsible for how you use the proxy or the information you share while using it.
      </p>
    </div>
  </div> <!-- end .content-wrapper -->

  <!-- Sessions Popup -->
  <div class="popup-overlay" id="sessions-popup-overlay"></div>
  <div class="popup-container" id="sessions-popup-container">
    <span class="popup-close" id="sessions-popup-close">&times;</span>
    <h2>Active Sessions</h2>
    <div id="sessions-table-container">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Session ID</th>
            <th>Created on</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="sessions-popup-tbody">
          <!-- Populated dynamically -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Dot-Wave Background Script -->
  <script>
    let canvas, ctx;
    let time = 0;
    const SPACING = 50;        // distance between dots
    let AMPLITUDE = 30;        // "height" of the wave
    let FREQUENCY = 0.2;       // wave frequency
    let SPEED = 0.005;         // wave speed

    window.addEventListener('load', () => {
      canvas = document.getElementById('dotWaveCanvas');
      ctx = canvas.getContext('2d');
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      requestAnimationFrame(animate);
    });

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    function animate() {
      time += SPEED;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const DOTS_X = Math.floor(canvas.width / SPACING) + 2;
      const DOTS_Y = Math.floor(canvas.height / SPACING) + 2;
      for (let i = 0; i < DOTS_X; i++) {
        for (let j = 0; j < DOTS_Y; j++) {
          const x = i * SPACING;
          const y = j * SPACING;
          const wave = Math.sin((i + time) * FREQUENCY) * AMPLITUDE +
                       Math.cos((j + time) * FREQUENCY) * AMPLITUDE;
          const scale = 1 + wave / (AMPLITUDE * 2);
          const radius = 3 * scale;
          const shiftedY = y + wave;
          const colorValue = 150 + Math.round(50 * (wave / AMPLITUDE));
          ctx.beginPath();
          ctx.arc(x, shiftedY, radius, 0, Math.PI * 2);
          ctx.fillStyle = `rgb(${colorValue}, ${colorValue}, ${colorValue})`;
          ctx.fill();
        }
      }
      requestAnimationFrame(animate);
    }
  </script>
</body>
</html>
